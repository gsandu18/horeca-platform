<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Autentificare Platformă</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
  <style>
    /* (stiluri tale) */
    body { font-family: 'Segoe UI', sans-serif; background: #f0f4f8; margin:0; padding:<style>
  .auth-container {
    width: 100%;
    max-width: 500px;
    margin: 40px auto;
    padding: 0 20px;
    box-sizing: border-box;
    text-align: center;
  }
  .auth-container .login-card {
    margin-top: 20px;
    padding: 25px;
  }
  .auth-container input,
  .auth-container button {
    width: 100%;
    display: block;
    margin-bottom: 15px;
  }
  .tab-switcher {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
  }
  .tab {
    flex: 1 1 140px;
    margin: 5px;
  }
</style>
}
    .tab-switcher { display: flex; justify-content: center; gap:1rem; margin-bottom:1rem; }
    .tab { padding:0.75rem 1.5rem; border:none; border-radius:30px; cursor:pointer; font-weight:bold; background:#eee; transition: all .3s; }
    .tab.active { background:#00d1b2; color:#fff; }
    .login-card { display:none; background:#fff; padding:25px; border-radius:12px; box-shadow:0 5px 20px rgba(0,0,0,0.08); }
    .login-card.active-form { display:block; animation: fadeIn .4s ease; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
    .login-card input { width:100%; padding:12px; margin-bottom:15px; border:1px solid #ccc; border-radius:8px; }
    .login-card button { width:100%; padding:14px; background:#00ccb4; color:#fff; font-weight:bold; border:none; border-radius:8px; font-size:1rem; cursor:pointer; transition:background .3s; }
    .login-card button:hover { background:#00a99d; }
    .google-btn { background:#fff; color:#333; border:1px solid #ccc; margin-top:10px; }
    .extras { margin-top:15px; font-size:0.95rem; }
    .extras a { color:#003087; text-decoration:none; margin:5px 10px; }
    .extras a:hover { text-decoration:underline; }
    h1 span { color:#0077b6; }
    h1, h2 { color:#003087; }
  </style>
</head>
<body>
  <div class="auth-container">
    <h1>Autentificare<br><span>Platformă</span></h1>

    <div class="tab-switcher">
      <button class="tab active" onclick="switchTab('candidat')">Login Candidat</button>
      <button class="tab" onclick="switchTab('firma')">Login Firmă</button>
    </div>

    <!-- Login Candidat -->
    <div class="login-card active-form" id="form-candidat">
      <h2><i class="fas fa-user"></i> Login Candidat</h2>
      <input type="email" id="email-candidat" placeholder="Email" />
      <input type="password" id="pass-candidat" placeholder="Parolă" />
      <button onclick="handleLogin('candidat')">Intră în cont</button>
      <button class="google-btn" onclick="loginWithGoogle('candidat')">
        <i class="fab fa-google"></i> Continuă cu Google
      </button>
      <div class="extras">
        <a href="password-candidat.html">Ai uitat parola?</a> |
        <a href="register-candidat.html">Creează cont candidat</a>
      </div>
    </div>

    <!-- Login Firmă -->
    <div class="login-card" id="form-firma">
      <h2><i class="fas fa-building"></i> Login Firmă</h2>
      <input type="email" id="email-firma" placeholder="Email firmă" />
      <input type="password" id="pass-firma" placeholder="Parolă firmă" />
      <button onclick="handleLogin('firma')">Intră în cont</button>
      <button class="google-btn" onclick="loginWithGoogle('firma')">
        <i class="fab fa-google"></i> Continuă cu Google
      </button>
      <div class="extras">
        <a href="password-firma.html">Ai uitat parola?</a> |
        <a href="register-firma.html">Înregistrează firmă</a>
      </div>
    </div>
  </div>

  <script>
    const firebaseConfig = {
  apiKey: "AlzaSyDvsEfnjVmOkPkExebfxOZ5e3ALRVG0Z-w",
  authDomain: "personal-horeca-e5f0e.firebaseapp.com",
  projectId: "personal-horeca-e5f0e",
  storageBucket: "personal-horeca-e5f0e.appspot.com",
  messagingSenderId: "332871951184",
  appId: "1:332871951184:web:YOUR_APP_ID" 
};

// Inițializare Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

    function switchTab(tab) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.login-card').forEach(c => c.classList.remove('active-form'));
      document.getElementById(`form-${tab}`).classList.add('active-form');
      document.querySelector(`.tab-switcher .tab[onclick*="${tab}"]`).classList.add('active');
    }

    function handleLogin(tab) {
      const email = document.getElementById(`email-${tab}`).value;
      const pass  = document.getElementById(`pass-${tab}`).value;
      if (!email || !pass) {
        return alert("Completează toate câmpurile.");
      }
      auth.signInWithEmailAndPassword(email, pass)
        .then(() => {
          alert("Autentificare reușită!");
          if (tab === 'firma') {
            window.location.href = "dashboard-firma.html";
          } else {
            window.location.href = "dashboard-candidat.html";
          }
        })
        .catch(err => alert("Eroare: " + err.message));
    }

    function loginWithGoogle(tab) {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .then(() => {
          alert("Autentificat cu Google!");
          if (tab === 'firma') {
            window.location.href = "dashboard-firma.html";
          } else {
            window.location.href = "dashboard-candidat.html";
          }
        })
        .catch(err => alert("Eroare Google: " + err.message));
    }
  </script>
</body>
</html>
